<script>
  document.title = 'A.I. robot with Neural Network and Genetic Algorithms'
</script>
<style>
    header {
        background: linear-gradient(203deg, #1c959b 17%, #24aa6e 100%);
    }

    #gameContainer {
        margin: 40px auto !important;
        width: 100%;
        max-width: 880px;
        min-height: 150px;
        background: #4c4f5c;
    }

    section {
        max-width: 700px;
        margin: 50px auto;
        overflow: auto;
        width: 80%;
        text-align: right;
        overflow: visible;
    }

    article {
        max-width: 880px;
        padding: 20px;
        margin: auto auto 50px;
        width: 95%;
    }

    article h1 { text-align: center; }

    #DNA-textarea { width: 100%; }

    #insert-DNA {
        display: inline-block;
    }

    hr {
        width: 50%;
        border: 3px solid #60636e;
        background-color: #60636e;
        border-radius: 4px;
    }

    code {
        margin: 20px;
        font-size: 10px;
        letter-spacing: 0;
        color: black;
        display: block;
        line-height: 20px;
        word-spacing: -5px;
        text-shadow: 0.5px 0.5px 0, -0.5px -0.5px 0;
    }
</style>
<div id="gameContainer" class="with-shadow"></div>
<section>
    <textarea id="DNA-textarea" placeholder="New DNA"></textarea>
    <button class="green-button" id="insert-DNA">Insert DNA</button>
</section>
<hr>
<article>
    <h1>Neural Network with Genetic Algorithms in Unity3D</h1>
    <hr>
    <a href="https://github.com/daniruiz/Cleaning-Robot-AI" target="_blank" class="with-shadow blue-button-link">&lt;/&gt;&nbsp
        Source Code</a>
    <hr>
    <img src="/img/AI-robot-preview.svg" alt="AI robot preview">
</article>
<script src="/AI-webgl/Build/UnityLoader.js"></script>
<script>
  function $ (query) {
    return document.querySelector(query)
  }

  var gameInstance = UnityLoader.instantiate('gameContainer', '/AI-webgl/Build/AI-webgl.json')

  $('#gameContainer').onmouseover = function () {
    gameInstance.SendMessage('Manager', 'captureKeyboard', 1)
  }
  $('#gameContainer').onmouseout = function () {
    gameInstance.SendMessage('Manager', 'captureKeyboard', 0)
  }

  $('#insert-DNA').onclick = function () {
    gameInstance.SendMessage('Manager', 'InsertDNA', $('#DNA-textarea').value)
    $('#DNA-textarea').value = ''
  }

  function copyBestDNA (DNA) {
    $('#DNA-textarea').value = DNA
  }
</script>
