<!-- Meta tags -->
<script>
  updateMetaData({
    title: 'Neural Network with Genetic Algorithms in Unity3D',
    description: 'Neural Network robot simulation represented in Unity3D and evolved through genetic algorithms.',
  })
</script>


<!-- Content -->
<div id="gameContainer" class="with-shadow"></div>
<section>
    <textarea id="DNA-textarea" placeholder="New DNA"></textarea>
    <button class="green-button" id="insert-DNA">Insert DNA</button>
</section>
<article>
    <h1>Neural Network robot simulation represented in Unity3D and evolved through genetic algorithms</h1>
    <section class="paper download-box" data-github="Cleaning-Robot-AI">
        <a href="https://github.com/daniruiz/Cleaning-Robot-AI/archive/master.zip" target="_blank"
           class="with-shadow blue-button-link">&lt;/&gt;&nbsp; Source Code</a>
        <a href="https://github.com/daniruiz/Cleaning-Robot-AI" target="_blank"><i class="fab fa-github"></i>
            github.com/daniruiz/Cleaning-Robot-AI</a>
        <hr>
        <div class="license">Cleaning-Robot-AI is licensed under the MIT License</div>
    </section>
</article>

<!-- Styles -->
<style>
    header { background: linear-gradient(203deg, #1C959B 17%, #24AA6E 100%); }

    #gameContainer {
        margin: 40px auto !important;
        width: 100%;
        max-width: 880px;
        min-height: 150px;
        background: #4C4F5C;
    }

    section {
        max-width: 700px;
        margin: 50px auto;
        overflow: auto;
        width: 80%;
        text-align: right;
        overflow: visible;
    }

    article {
        max-width: 880px;
        padding: 20px;
        margin: auto auto 50px;
        width: 95%;
    }

    article h1 { text-align: center; }

    #DNA-textarea { width: 100%; }

    #insert-DNA { display: inline-block; }

    main hr {
        width: 50%;
        border: 3px solid #60636E;
        background-color: #60636E;
        border-radius: 4px;
    }

    main code {
        margin: 20px;
        font-size: 10px;
        letter-spacing: 0;
        color: black;
        display: block;
        line-height: 20px;
        word-spacing: -5px;
        text-shadow: 0.5px 0.5px 0, -0.5px -0.5px 0;
    }
</style>

<!-- Scripts -->
<script src="/AI-webgl/Build/UnityLoader.js"></script>
<script>
  (function () {
    const gameInstance = UnityLoader.instantiate('gameContainer', '/AI-webgl/Build/AI-webgl.json')
    const gameContainer = $('#gameContainer')

    gameContainer.onmouseover = () =>
      gameInstance.SendMessage('Manager', 'captureKeyboard', 1)
    gameContainer.onmouseout = () =>
      gameInstance.SendMessage('Manager', 'captureKeyboard', 0)
    $('#insert-DNA').onclick = () => {
      gameInstance.SendMessage('Manager', 'InsertDNA', $('#DNA-textarea').value)
      $('#DNA-textarea').value = ''
    }

    // Called by Unity
    window.copyBestDNA = DNA => $('#DNA-textarea').value = DNA
  })()
</script>
